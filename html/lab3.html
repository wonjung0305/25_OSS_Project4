<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>

    <style>
      /* ul의 list 스타일 notion 예시처럼 - 바꾸기*/
      li {
        list-style-type: none;
      }

      li::before {
        content: "- ";
      }

      /* button 크기 통일 */

      #group_btn {
        display: flex;
        gap: 8px;
      }

      button {
        width: 70px;
        height: 24px;

        padding: 1px 8px;
      }
    </style>
  </head>
  <body>
    <div id="group_btn">
      <button type="button" id="click_btn">불러오기</button>
      <button type="button" id="reset_btn">초기화</button>
    </div>

    <ul id="call_list"></ul>
  </body>
</html>

<script>
  const click_btn = document.getElementById("click_btn");
  const reset_btn = document.getElementById("reset_btn");

  function makeUl() {
    fetch("https://jsonplaceholder.typicode.com/users")
      .then((response) => response.json()) // fetch 성공하면 reponse.json()으로
      .then((datas) => {
        const userList = document.getElementById("call_list");
        userList.textContent = ""; // 초기화

        // 반복문으로 모든 데이터의 이름-이메일 넣기
        datas.forEach((data) => {
          const li = document.createElement("li"); // li 만들기
          li.textContent = `${data.name} - ${data.email}`; // li 내용
          userList.appendChild(li); // userList에 자식으로 추가
        });
      }).catch((error) => console.log("error: ", error));
    }

  function toReset() {
    const userList = document.getElementById("call_list"); // 항목에 접근하는 변수

    userList.innerText = ""; // 내용 초기화
  }

  click_btn.addEventListener("click", makeUl);
  reset_btn.addEventListener("click", toReset);
</script>


<!-- 이름 - 이메일 형식으로 ul 목록에 출력

1. fetch() 사용
2. button, ul 미리 만들어 놓고
3. 버튼 클릭 -> fetch로 데이터 불러오고
  3-1. JSON 데이터를 response.json()으로 변환한다
    => response.json()은 자바스크립트 객체/배열로 반드는 것
  3-2 변환된 배열 데이터를 순회하면서 li 요소를 만든다

- 이름 - 이메일
- 이름 - 이메일
- 이름 - 이메일

fetch API -> Promise(비동기 작업이 끝나면 나중에 결과를 주는 것)
  then: 성공하면 실행할 코드
  catch: 실패하면 실행할 코드
  -->
